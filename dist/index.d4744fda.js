const e={colors:{red:["#c84242","#ce5555","#d36868","#b43b3b"],pink:["#ae3ec9","#b651ce","#be65d4","#8b32a1"],blue:["#1971c2","#307fc8","#478dce","#145a9b"],green:["#2f9e44","#44a857","#59b169","#267e36"],purple:["#7048e8","#7e5aea","#8d6ded","#5a3aba"],yellow:["#f08c00","#f2981a","#f3a333","#c07000"]},autoStartPomodoro:!1,autoStartBreak:!0,longBreakIntervals:4,sessionCounter:1,timers:{pomodoro:{name:"pomodoro",timer:1500,colorSet:["#c84242","#ce5555","#d36868","#b43b3b"]},shortBreak:{name:"shortBreak",timer:300,colorSet:["#2f9e44","#44a857","#59b169","#267e36"]},longBreak:{name:"longBreak",timer:900,colorSet:["#1971c2","#307fc8","#478dce","#145a9b"]}}},t=function(t){return e.timers[t]},o=function(t){return"pomodoro"===t&&e.sessionCounter%e.longBreakIntervals!=0?"shortBreak":"pomodoro"===t&&e.sessionCounter%e.longBreakIntervals==0?"longBreak":"pomodoro"};class r{#e=document.querySelector(".timer--tabs-box");#t=document.querySelectorAll(".timer--tab");#o=document.querySelector(".btn--timer");#r=document.querySelector(".btn--next-session");#s=document.querySelector(".counter--num-text");#i=document.querySelector(".timer--session-reset-btn");#a=!1;#n=null;#l=null;#d=0;#c=null;#m=1;addHandlerReset(e){this.#i.addEventListener("click",()=>{window.confirm("Are you sure to reset your sessions?")&&(this.#m=1,e())})}addHandlerNextSession(e,t,o){this.#r.addEventListener("click",()=>{this._stopTimer(),e()})}addHandlerStart(e,t){this._timerBtnClickHandler(t),e()}addHandlerTab(e){this.#e.addEventListener("click",t=>{t.target.classList.contains("timer--tab")&&(this._activateTab(t.target),e(),this._stopTimer())})}_timerBtnClickHandler(e){this.#o.addEventListener("click",()=>{this.#a?this._stopTimer():this._startTimer(e)})}_clickBtn(){this.#o.classList.add("clicked"),this.#o.textContent="pause",this.#r.classList.remove("hidden"),this.#a=!0}_unClickBtn(){this.#o.classList.remove("clicked"),this.#o.textContent="start",this.#r.classList.add("hidden"),this.#a=!1}_resumeTimer(e){this.#n=setInterval(()=>{if(0!==this.#d)this.#d--,this._displayTimer();else{let t=e();"pomodoro"===t.nextTimer&&t.autoStartPomodoro||"pomodoro"!==t.nextTimer&&t.autoStartBreak||this._stopTimer()}},1e3)}_pauseTimer(){clearInterval(this.#n)}_startTimer(e){this._resumeTimer(e),this._clickBtn()}_stopTimer(){this._unClickBtn(),this._pauseTimer()}_displayTimer(){this.#s.textContent=`${String(Math.floor(this.#d/60)).padStart(2,"0")}:${String(this.#d%60).padStart(2,"0")}`}_displaySession(){this.#i.textContent=`#${this.#m}`}setSession(e){this.#m=e,this._displaySession()}setTimer(e){this.#d=e.timer,this.#c=e.colorSet,this._setTimerBackground(this.#c),this._displayTimer(),this.#t.forEach(t=>{t.dataset.mode===e.name&&this._activateTab(t)})}getTimerMode(){let e="";return this.#t.forEach(t=>{t.classList.contains("active")&&(e=t.dataset.mode)}),e}_setTimerBackground(e){document.documentElement.style.setProperty("--primary-color",e[0]),document.documentElement.style.setProperty("--light-color",e[1]),document.documentElement.style.setProperty("--light-color-tint--1",e[2]),document.documentElement.style.setProperty("--dense-color",e[3])}_activateTab(e){this.#t.forEach(e=>{e.classList.remove("active")}),e.classList.add("active")}}var s=new r;class i{#u=document.querySelector(".nav-bar");#h=document.querySelector(".modal-form");#S=document.querySelector(".overlay");#B=document.querySelectorAll(".modal");#k=document.querySelectorAll(".btn-close");#p=document.querySelectorAll(".btn-slider-container");#v=document.getElementById("timer-pomodoro");#T=document.getElementById("timer-short-br");#b=document.getElementById("timer-long-br");#g=document.querySelectorAll(".btn-color-theme-select");#y=document.querySelectorAll(".btn-color-theme");#C=document.querySelector(".color-theme-btn-container");#_=document.querySelector(".color-select-text");#f=document.querySelector(".color-theme-btn-select-container");#L=document.getElementById("break-interval");#E=null;#I=null;#x={red:["#c84242"],pink:["#ae3ec9"],blue:["#1971c2"],green:["#2f9e44"],purple:["#7048e8"],yellow:["#f08c00"]};constructor(){this._handlerNavButton(),this._timerColorThemeClickHandler()}addHandlerTimerSettings(e,t){this.#h.addEventListener("submit",o=>{o.preventDefault(),(""!==this.#v.value||""!==this.#T.value||""!==this.#b.value)&&(t.timers.pomodoro.timer=60*+this.#v.value,this.#v.value="",t.timers.shortBreak.timer=60*+this.#T.value,this.#T.value="",t.timers.longBreak.timer=60*+this.#b.value,this.#b.value=""),""!==this.#L.value&&(t.longBreakIntervals=+this.#L.value,this.#L.value=""),this._closeModal(),e()})}addHandlerApplyColorSettings(e,t){this.#f.addEventListener("click",o=>{o.target.classList.contains("btn-color-theme-select")&&(this.#I=this._chooseColor(o.target),this.#I=o.target.dataset.color,this.#y.forEach(e=>{this.#y.forEach(e=>{e.dataset.timer===this.#E&&(e.style.backgroundColor=this.#x[this.#I])})}),t.timers[this.#E].colorSet=t.colors[this.#I],this.#B[1].classList.add("hidden"),this.#B[0].classList.remove("hidden"),e())})}addHandlerSliderBtn(e){this.#p.forEach(t=>{t.addEventListener("click",o=>{t.classList.toggle("btn-slider-active"),e(t.dataset.name)})})}_handlerNavButton(){this.#u.addEventListener("click",e=>{let t=e.target.closest("button");if(!t.classList.contains("btn-nav"))return;let o=t.dataset.target;this._openModal(o)}),this.#k.forEach(e=>{e.addEventListener("click",()=>this._closeModal())}),this.#S.addEventListener("click",()=>this._closeModal())}_timerColorThemeClickHandler(){this.#C.addEventListener("click",e=>{e.target.classList.contains("btn-color-theme")&&(this.#B[0].classList.add("hidden"),this.#B[1].classList.remove("hidden"),"pomodoro"===e.target.dataset.timer&&(this.#_.textContent="Pick a color for Pomodoro"),"shortBreak"===e.target.dataset.timer&&(this.#_.textContent="Pick a color for Short Break"),"longBreak"===e.target.dataset.timer&&(this.#_.textContent="Pick a color for Long Break"),this.#E=e.target.dataset.timer)})}_chooseColor(e){return this.#g.forEach(e=>{e.classList.remove("selected")}),e.classList.add("selected"),e.dataset.color}_openModal(e){this.#B.forEach(t=>{t.classList.contains(`modal__${e}`)&&(t.classList.remove("hidden"),this.#S.classList.remove("hidden"))})}_closeModal(){this.#B.forEach(e=>{e.classList.add("hidden")}),this.#S.classList.add("hidden")}}var a=new i;const n=function(){let e=s.getTimerMode(),o=t(e);s.setTimer(o)},l=function(){s.setSession(e.sessionCounter);let r=s.getTimerMode(),i=o(r),a={nextTimer:i,autoStartPomodoro:e.autoStartPomodoro,autoStartBreak:e.autoStartBreak};"pomodoro"!==i&&e.sessionCounter++;let n=t(i);return s.setTimer(n),a};s.addHandlerStart(function(){let e=t("pomodoro");s.setTimer(e)},l),s.addHandlerTab(function(){let e=s.getTimerMode(),o=t(e);s.setTimer(o)}),s.addHandlerNextSession(l,e,o),s.addHandlerReset(function(){e.sessionCounter=1,s.setSession(e.sessionCounter)}),a.addHandlerTimerSettings(n,e),a.addHandlerApplyColorSettings(n,e),a.addHandlerSliderBtn(function(t){"shortBreak"===t&&(e.autoStartBreak=!e.autoStartBreak),"pomodoro"===t&&(e.autoStartPomodoro=!e.autoStartPomodoro)});
//# sourceMappingURL=index.d4744fda.js.map
